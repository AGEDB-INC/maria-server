CREATE TABLE t1 (a INT primary key, b int) ENGINE=InnoDB;
ALTER TABLE t1 DROP FOREIGN KEY x, ALGORITHM=COPY;
ERROR 42000: Can't DROP FOREIGN KEY `x`; check that it exists
# Only Warning expected
ALTER TABLE t1 DROP FOREIGN KEY IF EXISTS x, ALGORITHM=COPY;
Warnings:
Note	1091	Can't DROP FOREIGN KEY `x`; check that it exists
ALTER TABLE t1 DROP KEY x, ALGORITHM=COPY;
ERROR 42000: Can't DROP INDEX `x`; check that it exists
ALTER TABLE t1 DROP KEY IF EXISTS x, ALGORITHM=COPY;
Warnings:
Note	1091	Can't DROP INDEX `x`; check that it exists
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) NOT NULL,
  `b` int(11) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1
ALTER TABLE t1 DROP CONSTRAINT x, ALGORITHM=COPY;
ERROR 42000: Can't DROP CONSTRAINT `x`; check that it exists
ALTER TABLE t1 DROP CONSTRAINT IF EXISTS x, ALGORITHM=COPY;
Warnings:
Note	1091	Can't DROP CONSTRAINT `x`; check that it exists
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) NOT NULL,
  `b` int(11) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1
ALTER TABLE t1 DROP FOREIGN KEY b;
ERROR 42000: Can't DROP FOREIGN KEY `b`; check that it exists
CREATE TABLE t2 (a int primary key, b int, foreign key (b) references t1(a)) engine=innodb;
ALTER TABLE t2 DROP FOREIGN KEY b, ALGORITHM=COPY;
ERROR 42000: Can't DROP FOREIGN KEY `b`; check that it exists
ALTER TABLE t2 DROP FOREIGN KEY IF EXISTS b, ALGORITHM=COPY;
Warnings:
Note	1091	Can't DROP FOREIGN KEY `b`; check that it exists
DROP TABLE t2;
CREATE TABLE t2 (a int primary key, b int, foreign key b(b) references t1(a)) engine=innodb;
SHOW CREATE TABLE t2;
Table	Create Table
t2	CREATE TABLE `t2` (
  `a` int(11) NOT NULL,
  `b` int(11) DEFAULT NULL,
  PRIMARY KEY (`a`),
  KEY `b` (`b`),
  CONSTRAINT `b` FOREIGN KEY (`b`) REFERENCES `t1` (`a`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1
ALTER TABLE t2 DROP FOREIGN KEY b, ALGORITHM=COPY;
SHOW CREATE TABLE t2;
Table	Create Table
t2	CREATE TABLE `t2` (
  `a` int(11) NOT NULL,
  `b` int(11) DEFAULT NULL,
  PRIMARY KEY (`a`),
  KEY `b` (`b`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1
DROP TABLE t2;
DROP TABLE t1;
